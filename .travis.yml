language: python
branches:
  only:
  - master
  - /^v\d+\.\d+\.\d+$/
matrix:
  include:
  - os: linux
    python: 3.5
  - os: linux
    python: 3.6
  - os: linux
    python: 3.7
    dist: xenial
    sudo: true
  - os: osx
    env: PYTHON=3.5.4
    language: generic
    sudo: true
  - os: osx
    env: PYTHON=3.6.5
    language: generic
    sudo: true
  - os: osx
    env: PYTHON=3.7.0
    language: generic
    sudo: true
install: ".travis/install.sh"
script: ".travis/run.sh"
after_success:
- codecov
notifications:
  email: false
  slack:
    on_success: change
    on_failure: always
    secure: Cq4Y2dwkNNE7hIZSEtmvNHI/2TZYzKpAJqbb6QPKG0hilx3PGetbs7fWy+ru6gRVW7A494Yk/4+ZO/9A92Pn0QHbbWtJZuU61pC2zxtkH2VKAzMVFly4gkL7L5Q9B8drAoer1usI4OtlN7eyqegTGAT8NEbhaynsJweEDZbWCWoXdQkl4tX6pYyDX/6HAWkfsQLaLPczLACyKYl812qAt7u6fFD+hcjdVrs/LfM9Cdt1gW3t9cVNm/Lqmla+I5OYjRRgbHm4XgsTrhNR0IoAxbktcxSwemnjTzwTsn7VQ9y4t8NlBRB5LUfw/0ihehKl7O4QS2c1G1uLhKHZZSfU8Di/qGGSvj/QBFvyZPDA8a/fmMBrNIHwy4k46l1ZfdDnX65oDbncHuXcFOVlTx85C5Zpy86tQDVktXf3kDlzsUtLgKtAY5dvLMDAwTvkX5M05DMwC51A+b2wsM1zs14CkeTFjHfsBIhDek91YfUEx6dRmnhg1KXVA+q02DKNoI0D5sNkOcgBnVATQOo29zcRKnyit93LBG3EiQYiIhubtwMkveXlEE3Qd5bUSdVuTMObN2nhm1bmYGrJ68dR+zKbsBZ51fcar6YeecmLCF6epBcZI++3AEH5/gu4qXb7A2pbxtiARJtxliI83d6CwEycPWhpjQ4p5UnByMhvKnKv14w=
deploy:
  provider: pypi
  user: slarse
  on:
    tags: true
    condition: $TRAVIS_OS_NAME = "linux"
  password:
    secure: ngvAvxQN8RFQJYFi9wNFnYXJqQsqelfCoujkmY0+Vx9FLH9+KCbIj43gPC4wfRHYFW5qZlTdmnMG0vDcGV1zE+DFOEk6GNvf2mX3onUZMcpR0+GbNTAw/MqbJnmIgf2B7eaIBbpraZvFwHAsCi79Nq6/w26bozfV1jyxFCtw/Z0KNdHPxvncAvtVOyjc65mo/+4eDsIvza3c+uzi96O5dWrpbt1klI5bkC4oSZtiF3UJ1wPeaXXAO4TyCNSBze1cP5VnCtz9N44lxrxZBDb56fujT/RKzXpeQjHkmJ1nS6K7D86/sLuV4l9905+1OniBlrhyOu6RCKoIc3xpDmsxWTLpP4bafcJO/1TMAyWofnAn/tumlles0U0CRKwIaMpbSv5lwDDcbVBaJnKe08dH/7R/OKQhXSXMH3psGUOmHuVBnR5hNgarr9MqCZr2gPQtoCwU3And6AnBEH16f1OV+kxCYEhaPH9lToHIRWPJ8sIcTMkouiG0AX6oQOGVYV0F/lqCaJGcZqvqEwglmn42xPCoDM2pM5flsaZ1th6qkXj17sBl7MZLVCj7fiIJBK+rLLuJpZWSBEsBKhjQ2UAcg7G9wYhVcF7dLhQUrgt6DrqnebC+q6Ln80E7NNFXhmxmxTQi5taZ2r/7DzCw/I1T5EGjZyi0T4Innngg1Io/O74=
  distributions: sdist bdist_wheel
  repo: slarse/repomate
  skip_existing: true
